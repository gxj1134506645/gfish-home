---
import type { CollectionEntry } from 'astro:content';
export interface Props { lang: 'zh' | 'en'; posts: CollectionEntry<'blog'>[] }
const { lang, posts } = Astro.props as Props;
---
<!-- 现代化博客列表 - 卡片式设计 -->
<ul class="space-y-4">
  {posts.map((p, index) => (
    <li class="animate-slide-up" style={`animation-delay: ${index * 0.05}s;`}>
      <a
        href={(lang === 'en' ? '/en' : '') + '/blog/' + p.slug}
        class="group block p-5 rounded-xl bg-gradient-to-r from-gray-50/50 to-transparent dark:from-gray-800/50 dark:to-transparent hover:from-primary-50/50 hover:to-accent-50/50 dark:hover:from-primary-900/20 dark:hover:to-accent-900/20 border border-transparent hover:border-primary-200/50 dark:hover:border-primary-800/50 transition-all duration-300"
      >
        <!-- 文章标题 -->
        <h3 class="font-semibold text-lg text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors duration-200 mb-2">
          {p.data.title}
        </h3>

        <!-- 文章描述 -->
        <p class="text-sm text-gray-600 dark:text-gray-400 line-clamp-2 leading-relaxed mb-3">
          {p.data.description}
        </p>

        <!-- 文章元信息 -->
        <div class="flex items-center justify-between text-xs text-gray-500 dark:text-gray-500">
          <time datetime={p.data.date} class="flex items-center gap-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            {new Date(p.data.date).toLocaleDateString(lang === 'zh' ? 'zh-CN' : 'en', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })}
          </time>

          <!-- 阅读更多指示器 -->
          <span class="flex items-center gap-1 text-primary-600 dark:text-primary-400 group-hover:text-accent-600 dark:group-hover:text-accent-400 transition-colors duration-200">
            阅读更多
            <svg class="w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </span>
        </div>
      </a>
    </li>
  ))}
</ul>

