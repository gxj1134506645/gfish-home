---
const provider = import.meta.env.PUBLIC_ANALYTICS_PROVIDER;
const plausibleDomain = import.meta.env.PUBLIC_PLAUSIBLE_DOMAIN;
const umamiSrc = import.meta.env.PUBLIC_UMAMI_SRC;
const umamiWebsiteId = import.meta.env.PUBLIC_UMAMI_WEBSITE_ID;
---
{
  provider === 'plausible' && plausibleDomain && (
    <>
      <script defer data-domain={plausibleDomain} src="https://plausible.io/js/script.js"></script>
      <noscript>
        <img src={`https://plausible.io/api/event?name=pageview&url=${encodeURIComponent('/')}&domain=${encodeURIComponent(plausibleDomain)}`} alt="" />
      </noscript>
    </>
  )
}
{
  provider === 'umami' && umamiSrc && umamiWebsiteId && (
    <script async src={umamiSrc} data-website-id={umamiWebsiteId}></script>
  )
}

